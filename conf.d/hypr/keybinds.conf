$mainMod = SUPER

bind = $mainMod SHIFT, Q, killactive
bind = $mainMod SHIFT, C, exec, pkill -SIGUSR2 waybar


bind = $mainMod, Return, exec, alacritty
#################### It just worksâ„¢ keybinds ###################
# Volume
bindl = ,XF86AudioMute, exec, pactl set-sink-mute @DEFAULT_SINK@ toggle
bindle=, XF86AudioRaiseVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%+
bindle=, XF86AudioLowerVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-

# Brightness
bindle=, XF86MonBrightnessUp, exec, setlight.sh + 5
bindle=, XF86MonBrightnessDown, exec, setlight.sh - 5

######################################## Keybinds ########################################
# Apps: just normal apps
bind = SUPER, O, submap, app_launcher
bind = SUPER, C, exec, ~/.local/share/survey/bin/add_task.sh

submap = app_launcher
bind = , F, exec, firefox
bind = , F, submap, reset
bind = , B, exec, blueberry
bind = , B, submap, reset
bind = , C, exec, chromium --ozone-platform=wayland --enable-features=UseOzonePlatform,WebRTCPipeWireCapturer
bind = , C, submap, reset
bind = , S, exec, com.spotify.Client --ozone-platform=wayland --enable-features=UseOzonePlatform
bind = , S, submap, reset
bind = , O, exec, obsidian
bind = , O, submap, reset
bind = , M, exec, org.ferdium.Ferdium --ozone-platform=wayland --enable-features=UseOzonePlatform,WebRTCPipeWireCapturer
bind = , M, submap, reset
bind = , E, exec, dolphin
bind = , E, submap, reset
bind = , Return, submap, reset
bind = , Escape, submap, reset
submap = reset

bind = SUPER, P, exec, wofi -i --show=drun --lines=5 --prompt=""

# App specific bindings
bind = CONTROLSUPER, L, exec, kbapp message key_s
bind = SUPER, S, exec, kbapp message key_s
bind = CONTROLSUPER, D, exec, kbapp message key_d
bind = CONTROLSUPER, H, exec, kbapp message key_h
bind = CONTROLSUPER, J, exec, kbapp message key_j
bind = CONTROLSUPER, K, exec, kbapp message key_k
bind = CONTROLSHIFTSUPER, J, exec, kbapp message key_J
bind = CONTROLSHIFTSUPER, K, exec, kbapp message key_K
bind = SUPER, up, exec, kbapp message up
bind = SUPER, down, exec, kbapp message down
bind = SUPER, left, exec, kbapp message left
bind = SUPER, right, exec, kbapp message right


# Actions
bindl = , switch:off:Lid Switch,exec, $DOTFILES/conf.d/hypr/scripts/clamshell.sh open
bindl = , switch:on:Lid Switch,exec, $DOTFILES/conf.d/hypr/scripts/clamshell.sh
bind = SHIFT, Print, exec, grimshot save area

bind = SUPER, I, submap, light
submap = light
bind = , 1, exec, hyprctl dispatch movecurrentworkspacetomonitor eDP-1
bind = , 1, submap, reset
bind = , 2, exec, hyprctl dispatch movecurrentworkspacetomonitor HDMI-A-1
bind = , 2, submap, reset
bind = , 7, exec, sleep 1 && hyprctl dispatch dpms on HDMI-A-1
bind = , 7, submap, reset
bind = , 8, exec, sleep 1 && hyprctl dispatch dpms off HDMI-A-1
bind = , 8, submap, reset
bind = , 9, exec, sleep 1 && hyprctl dispatch dpms on eDP-1
bind = , 9, submap, reset
bind = , 0, exec, sleep 1 && hyprctl dispatch dpms off eDP-1
bind = , 0, submap, reset
bind = , Return, submap, reset
bind = , Escape, submap, reset
submap = reset

############################ Keybinds for Hyprland ############################
bind = SUPERSHIFT, E, exec, hyprctl dispatch exit
# Swap windows
bind = SUPERSHIFT, h, movewindow, l
bind = SUPERSHIFT, l, movewindow, r
bind = SUPERSHIFT, k, movewindow, u
bind = SUPERSHIFT, j, movewindow, d

# Move focus
bind = SUPER, h, movefocus, l
bind = SUPER, l, movefocus, r
bind = SUPER, k, movefocus, u
bind = SUPER, j, movefocus, d
# bind = SUPER, a, changefocus, raise
# bind = SUPERSHIFT, a, changefocus, lower
bind = SUPER, N, changegroupactive, f
bind = SUPER, B, changegroupactive, b

# Workspace, window, tab switch with keyboard
bind = SUPER, Tab, workspace, e+1
bind = SUPER, Backslash, workspace, e-1
bind = SUPERSHIFT, Backslash, workspace, e+1
bind = SUPERSHIFT, Tab, workspace, e-1

# Window split ratio
binde = SUPER, Minus, splitratio, -0.1
binde = SUPER, Plus, splitratio, 0.1

# Fullscreen
bind = SUPER, T, fullscreen

# Switching
bind = SUPER, 1, workspace, 1
bind = SUPER, 2, workspace, 2
bind = SUPER, 3, workspace, 3
bind = SUPER, 4, workspace, 4
bind = SUPER, 5, workspace, 5
bind = SUPER, 6, workspace, 6
bind = SUPER, 7, workspace, 7
bind = SUPER, 8, workspace, 8
bind = SUPER, 9, workspace, 9
bind = SUPER, 0, togglespecialworkspace,
bind = ALT, Tab, cyclenext
bind = ALT, Tab, bringactivetotop,   # bring it to the top

# Move window to workspace Super + Alt + [0-9]
bind = SUPER SHIFT, 1, movetoworkspace, 1
bind = SUPER SHIFT, 2, movetoworkspace, 2
bind = SUPER SHIFT, 3, movetoworkspace, 3
bind = SUPER SHIFT, 4, movetoworkspace, 4
bind = SUPER SHIFT, 5, movetoworkspace, 5
bind = SUPER SHIFT, 6, movetoworkspace, 6
bind = SUPER SHIFT, 7, movetoworkspace, 7
bind = SUPER SHIFT, 8, movetoworkspace, 8
bind = SUPER SHIFT, 9, movetoworkspace, 9
bind = SUPER SHIFT, 0, movetoworkspace, special

# Change layout
bind = SUPER, W, togglegroup
# bind = SUPER, W, hy3:makegroup, tab
# bind = SUPER, B, hy3:makegroup, h
# bind = SUPER, V, hy3:makegroup, v
bind = SUPER, F, togglesplit
bind = SUPER, Space, togglefloating

# Scroll through existing workspaces with (Control) + Super + scroll
bind = SUPER, mouse_up, workspace, +1
bind = SUPER, mouse_down, workspace, -1
bind = CONTROLSUPER, mouse_up, exec, kbapp message down
bind = CONTROLSUPER, mouse_down, exec, kbapp message up

# Move/resize windows with Super + LMB/RMB and dragging
bindm = SUPER, mouse:272, movewindow
bindm = SUPER, mouse:273, resizewindow
bindm = SUPER, mouse:274, movewindow
bind = CONTROLSUPER, mouse:273, exec, kbapp message key_d
bind = CONTROLSUPER, mouse:272, exec, ydotool key 28:1 28:0
bindm = SUPER, Z, movewindow
bindm = SUPER, X, resizewindow
bind = CONTROLSUPER, Backslash, resizeactive, exact 640 480

# Modes
bind = SUPER, M, exec, bash -c "music_daemon.sh"
bind = SUPER, M,submap,music

submap = music
bind = , L, exec, playerctl -p spotify next
bind = , h, exec, playerctl -p spotify previous
bind = , f, exec, $DOTFILES/conf.d/hypr/scripts/focus_by_initialtitle.sh "Spotify Premium" && sleep 0.5 && kbapp message key_s
bind = , f, exec, bash -c "music_daemon.sh kill"
bind = , f, submap, reset
bind = , Space, exec, playerctl -p spotify play-pause
bind = , Return, exec, bash -c "music_daemon.sh kill"
bind = , Return, submap, reset
bind = , Escape, exec, bash -c "music_daemon.sh kill"
bind = , Escape, submap, reset
submap = reset
